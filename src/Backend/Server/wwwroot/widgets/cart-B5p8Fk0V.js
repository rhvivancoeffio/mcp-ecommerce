import{r as u,j as e,b as w,R as y}from"./client-Nn7TrOfv.js";/* empty css              */import{u as I}from"./useWidgetProps-C6XLaI11.js";import{u as M,a as L,b as T}from"./useDisplayMode-CEOUkdr0.js";const $=()=>({cartId:void 0,items:[]}),W=()=>{const n=M()??void 0;L();const a=I(()=>({})),[l]=T($),g=u.useMemo(()=>{const s=a&&"structuredContent"in a?a.structuredContent:a;return{cartId:(s==null?void 0:s.cartId)??(a==null?void 0:a.cartId)??(l==null?void 0:l.cartId),items:(s==null?void 0:s.items)??(a==null?void 0:a.items)??(l==null?void 0:l.items)??[],subTotal:(s==null?void 0:s.subTotal)??(a==null?void 0:a.subTotal)??0,tax:(s==null?void 0:s.tax)??(a==null?void 0:a.tax)??0,shipping:(s==null?void 0:s.shipping)??(a==null?void 0:a.shipping)??0,total:(s==null?void 0:s.total)??(a==null?void 0:a.total)??0,totalItems:(s==null?void 0:s.totalItems)??(a==null?void 0:a.totalItems)??0,status:(s==null?void 0:s.status)??(a==null?void 0:a.status)??"loading"}},[a,l]),{cartId:i,items:t,subTotal:x,tax:m,shipping:h,total:b,totalItems:f,status:k}=g,v=k==="loading",r=x>0?x:t.reduce((s,c)=>s+c.totalPrice,0),j=m>0?m:r*.1,d=h!==void 0?h:r>50?0:5.99,o=b>0?b:r+j+d;f>0||t.reduce((s,c)=>s+c.quantity,0);const N=u.useCallback(()=>{console.log("Checkout clicked",{cartId:i,total:o})},[i,o]);return e.jsxs("div",{className:"w-full h-full flex flex-col bg-white",style:{maxHeight:n?`${n}px`:void 0},children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-black/10 bg-white flex-shrink-0",children:[e.jsx("h2",{className:"text-2xl font-bold text-black",children:"Carrito de Compras"}),i&&e.jsxs("span",{className:"text-sm text-black/60",children:["ID: ",i.substring(0,8),"..."]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:v?e.jsx("div",{className:"space-y-4",children:[...Array(3)].map((s,c)=>e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4 p-4 rounded-lg border border-black/5 bg-white animate-pulse",children:[e.jsx("div",{className:"relative h-24 w-24 sm:h-20 sm:w-20 flex-shrink-0 overflow-hidden rounded-lg bg-gray-200"}),e.jsxs("div",{className:"flex-1 min-w-0 w-full sm:w-auto",children:[e.jsx("div",{className:"h-5 w-3/4 bg-gray-200 rounded mb-2"}),e.jsx("div",{className:"h-4 w-1/2 bg-gray-200 rounded mb-2"}),e.jsx("div",{className:"h-5 w-24 bg-gray-200 rounded"})]}),e.jsxs("div",{className:"flex items-center gap-4 w-full sm:w-auto justify-between sm:justify-end",children:[e.jsx("div",{className:"h-8 w-24 bg-gray-200 rounded-full"}),e.jsx("div",{className:"h-6 w-20 bg-gray-200 rounded"}),e.jsx("div",{className:"h-9 w-9 bg-gray-200 rounded-full"})]})]},`skeleton-${c}`))}):t.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[e.jsx("svg",{className:"h-16 w-16 text-black/20 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),e.jsx("p",{className:"text-lg font-medium text-black/60",children:"Tu carrito está vacío"}),e.jsx("p",{className:"text-sm text-black/40 mt-1",children:"Agrega productos para comenzar"})]}):e.jsx("div",{className:"space-y-4",children:t.map(s=>e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4 p-4 rounded-lg border border-black/5 bg-white",children:[e.jsx("div",{className:"relative h-24 w-24 sm:h-20 sm:w-20 flex-shrink-0 overflow-hidden rounded-lg bg-black/[0.02]",children:s.imageUrl&&s.imageUrl.trim()!==""?e.jsx("img",{src:s.imageUrl,alt:s.productName,className:"h-full w-full object-cover"}):e.jsx("div",{className:"flex h-full w-full items-center justify-center",children:e.jsx("svg",{className:"h-8 w-8 text-black/20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),e.jsxs("div",{className:"flex-1 min-w-0 w-full sm:w-auto",children:[e.jsx("div",{className:"flex items-center gap-2 mb-1",children:s.brand&&s.brand.trim()!==""&&e.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-gray-100 text-gray-700 font-medium",children:s.brand})}),e.jsx("h3",{className:"text-lg font-bold text-black mb-2 break-words",children:s.productName}),e.jsxs("p",{className:"text-sm text-black/60 mb-2",children:["SKU: ",s.productSku]}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs("p",{className:"text-lg font-bold text-black",children:["$",s.unitPrice.toFixed(2)]}),e.jsx("p",{className:"text-sm text-black/60",children:"c/u"})]})]}),e.jsxs("div",{className:"flex items-center gap-4 w-full sm:w-auto justify-between sm:justify-end",children:[e.jsxs("div",{className:"flex items-center rounded-full bg-black/[0.04] px-3 py-1.5 border border-gray-200",children:[e.jsx("span",{className:"min-w-[32px] px-3 text-center text-base font-bold text-slate-900",children:s.quantity}),e.jsx("span",{className:"text-xs text-black/60 ml-2",children:"unidades"})]}),e.jsxs("div",{className:"text-right min-w-[80px]",children:[e.jsxs("p",{className:"text-xl font-bold text-black",children:["$",s.totalPrice.toFixed(2)]}),e.jsx("p",{className:"text-xs text-black/60 font-medium",children:"Total"})]}),e.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-black/5 text-black/40 flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})]},s.productId))})}),t.length>0&&e.jsxs("div",{className:"border-t border-black/5 p-6 space-y-4 flex-shrink-0",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm text-black/70",children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("span",{children:["$",r.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-sm text-black/70",children:[e.jsx("span",{children:"Impuesto"}),e.jsxs("span",{children:["$",j.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-sm text-black/70",children:[e.jsx("span",{children:"Envío"}),e.jsx("span",{children:d===0?"Gratis":`$${d.toFixed(2)}`})]}),e.jsxs("div",{className:"flex justify-between text-lg font-bold text-black pt-2 border-t border-black/10",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["$",o.toFixed(2)]})]})]}),e.jsx("button",{type:"button",onClick:N,className:"w-full bg-black text-white font-semibold py-3 px-6 rounded-lg hover:bg-black/90 transition-colors text-base",children:"Pagar"})]})]})};typeof window<"u"&&(window.openai=window.openai||{});const p=document.getElementById("root");p&&w(p).render(e.jsx(y.StrictMode,{children:e.jsx(W,{})}));
